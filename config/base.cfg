[buildout]
extends =
    https://dist.plone.org/release/5.2.7/versions.cfg
extensions =
    mr.developer
parts =
    test
    scripts
    omelette
    alembic.ini
develop =
always-checkout = false
auto-checkout =
   Euphorie
show-picked-versions = true

[settings]
saconfig-uri =
http-address =

[instance]
recipe = plone.recipe.zope2instance
user = admin:admin
http-address = ${settings:http-address}
eggs =
    psycopg2-binary
    Euphorie
    iw.debug
    plone.reload
zcml =
    iw.debug
    euphorie.deployment-meta
    euphorie.deployment
    euphorie.deployment-overrides

zcml-additional =
   <configure xmlns="http://namespaces.zope.org/zope"
              xmlns:db="http://namespaces.zope.org/db">
       <include package="z3c.saconfig" file="meta.zcml" />
       <db:engine name="session" url="${settings:saconfig-uri}" echo="false" />
       <db:session engine="session" />
   </configure>
environment-vars =
    PREFER_Z3C_PT 1
    CHAMELEON_DEBUG 1
    zope_i18n_compile_mo_files 1
deprecation-warnings = on

[alembic.ini]
recipe = collective.recipe.template
input = ${buildout:directory}/templates/${:_buildout_section_name_}
output = ${buildout:directory}/etc/${:_buildout_section_name_}

[scripts]
recipe = zc.recipe.egg
dependent-scripts = true
interpreter = zopepy
eggs = ${instance:eggs}

[test]
recipe = zc.recipe.testrunner
eggs = Euphorie [tests]
defaults = ['-s', 'euphorie', '--auto-color', '--auto-progress']

[sources]
Euphorie = git git@github.com:euphorie/Euphorie.git branch=main

[omelette]
recipe = collective.recipe.omelette
eggs = ${instance:eggs}
ignores =
    bcrypt
    cffi
    cryptography

[versions]
alembic = 1.7.7
anytree = 2.8.0
ftw.upgrade = 3.3.0
htmllaundry = 2.2
Mako = 1.2.0
openpyxl = 2.6.4
plone.app.imagecropping = 2.2.2
Products.membrane = 5.0.3
psycopg2-binary = 2.9.3
SQLAlchemy = 1.3.24
z3c.ptcompat = 2.3.0
z3c.saconfig = 0.16.0
z3c.schema = 1.1.0
NuPlone = 2.1.1

waitress = 2.1.1
